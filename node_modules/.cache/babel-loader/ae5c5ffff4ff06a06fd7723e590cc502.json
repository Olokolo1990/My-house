{"ast":null,"code":"import _defineProperty from\"/home/aleksander/Pulpit/projekt/my_house/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/aleksander/Pulpit/projekt/my_house/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/aleksander/Pulpit/projekt/my_house/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{Link}from\"react-router-dom\";import{useState}from\"react\";import{db}from\"./firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Add_ShoppingList=function Add_ShoppingList(){var _jsxs2;var _useState=useState({title:\"\",quantity:\"\",unit:\"\"}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setError=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];var handleAddToShippingList=function handleAddToShippingList(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setForm(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};var handleSubmit=function handleSubmit(e){e.preventDefault();var errorArray=[];if(form.title.length<2){errorArray.push(\"pierwsze pole musi zwierac conajmniej 2 znaki\");}if(form.quantity.length<1){errorArray.push(\"drugie pole nie może być puste!\");}setError(errorArray);if(errorArray.length===0){db.collection(\"shopping\").add({title:form.title,quantity:form.quantity,unit:form.unit===\"\"?\"sztuk\":form.unit}).then(function(docRef){console.log(\"Document written with ID: \",docRef.id);setForm({title:\"\",quantity:\"\",unit:\"\"});setSuccess(\"Dodano do listy \");}).catch(function(error){console.error(\"Error adding document: \",error);});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"main_container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"header\",children:\"Dodaj do Listy Zakup\\xF3w\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"add_content\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form_add\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form_errors\",children:[errors.length>0&&errors.map(function(error,key){return/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",margin:\"0px\"},children:error},key);}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"green\",margin:\"0px\"},children:errors.length===0&&success})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Nazwa\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",value:form.title,onChange:handleAddToShippingList,name:\"title\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Ilo\\u015B\\u0107\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",value:form.quantity,onChange:handleAddToShippingList,name:\"quantity\"}),/*#__PURE__*/_jsxs(\"select\",(_jsxs2={name:\"unit\",className:\"select\",value:form.unit,onChange:handleAddToShippingList},_defineProperty(_jsxs2,\"name\",\"unit\"),_defineProperty(_jsxs2,\"children\",[/*#__PURE__*/_jsx(\"option\",{value:\"sztuk\",children:\"sztuk\"}),/*#__PURE__*/_jsx(\"option\",{value:\"opakowa\\u0144\",children:\"opakowa\\u0144\"}),/*#__PURE__*/_jsx(\"option\",{value:\"gram\",children:\"gram\"}),/*#__PURE__*/_jsx(\"option\",{value:\"kg\",children:\"kg\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ml\",children:\"ml\"}),/*#__PURE__*/_jsx(\"option\",{value:\"l\",children:\"l\"})]),_jsxs2)),/*#__PURE__*/_jsx(\"div\",{className:\"buttons\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn_add btn\",children:\"Dodaj\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(Link,{to:\"/ShoppingList\",className:\"btn\",children:\"Powr\\xF3t\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn\",children:\"M\\xF3j Dom\"})]})]});};","map":{"version":3,"sources":["/home/aleksander/Pulpit/projekt/my_house/src/Add_ShoppingList.js"],"names":["React","Link","useState","db","Add_ShoppingList","title","quantity","unit","form","setForm","errors","setError","success","setSuccess","handleAddToShippingList","e","target","name","value","prev","handleSubmit","preventDefault","errorArray","length","push","collection","add","then","docRef","console","log","id","catch","error","map","key","color","margin"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport {useState} from \"react\";\nimport {db} from \"./firebase\";\n\nexport const Add_ShoppingList = () => {\n    const [form, setForm] = useState({ title: \"\", quantity: \"\", unit: \"\" });\n    const [errors, setError] = useState([]);\n    const [success, setSuccess] = useState(\"\")\n    const handleAddToShippingList = (e) => {\n        const { name, value } = e.target;\n        setForm(prev => {\n            return {\n                ...prev,\n                [name]: value\n            }\n        })\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const errorArray = [];\n        if (form.title.length < 2) {\n            errorArray.push(\"pierwsze pole musi zwierac conajmniej 2 znaki\");\n        }\n        if (form.quantity.length < 1) {\n            errorArray.push(\"drugie pole nie może być puste!\");\n        }\n        setError(errorArray);\n        if (errorArray.length === 0) {\n            db.collection(\"shopping\").add({\n                title: form.title,\n                quantity: form.quantity,\n                unit: form.unit === \"\" ? \"sztuk\" : form.unit\n            })\n                .then((docRef) => {\n                    console.log(\"Document written with ID: \", docRef.id);\n                    setForm({ title: \"\", quantity: \"\", unit: \"\", });\n                    setSuccess(\"Dodano do listy \")\n                })\n                .catch((error) => {\n                    console.error(\"Error adding document: \", error);\n                });\n        }\n    }\n\n\n    return (\n        <div className=\"main_container\">\n            <div className=\"title\">\n                <h1 className=\"header\">Dodaj do Listy Zakupów</h1>\n            </div>\n            <div className=\"add_content\">\n\n                <form className=\"form_add\" onSubmit={handleSubmit}>\n                    <div className=\"form_errors\">{errors.length > 0 && errors.map((error, key) => <p key={key} style={{ color: \"red\", margin: \"0px\" }}>{error}</p>)}<p style={{ color: \"green\", margin: \"0px\" }}>{errors.length === 0 && success}</p></div>\n                    <h2>Nazwa</h2>\n                    <input type=\"text\" className=\"input\" value={form.title} onChange={handleAddToShippingList} name=\"title\"/>\n                    <h2>Ilość</h2>\n                    <input type=\"text\" className=\"input\" value={form.quantity} onChange={handleAddToShippingList} name=\"quantity\"/>\n                    <select name=\"unit\" className=\"select\"  value={form.unit} onChange={handleAddToShippingList} name=\"unit\">\n                        <option value=\"sztuk\" >sztuk</option>\n                        <option value=\"opakowań\">opakowań</option>\n                        <option value=\"gram\">gram</option>\n                        <option value=\"kg\">kg</option>\n                        <option value=\"ml\">ml</option>\n                        <option value=\"l\">l</option>\n                    </select>\n                    <div className=\"buttons\">\n                        <button type=\"submit\" className=\"btn_add btn\">Dodaj</button>\n                    </div>\n                </form>\n            </div>\n            <div className=\"buttons\">\n                <Link to=\"/ShoppingList\" className=\"btn\">Powrót</Link>\n                <Link to=\"/\" className=\"btn\">Mój Dom</Link>\n            </div>\n        </div>\n    )\n}\n\n"]},"metadata":{},"sourceType":"module"}